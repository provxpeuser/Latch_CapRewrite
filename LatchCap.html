<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>securlypass</title>
  <link rel="icon" id="dynamic-favicon" type="image/png" href="https://pass.securly.com/favicon.png" />
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #800080;
      color: #fff;
      text-align: center;
    }

    /* --- Header UI --- */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 80%;
      max-width: 600px;
      margin: 25px auto;
      background: linear-gradient(90deg, #7a00b3, #b366ff);
      border-radius: 15px;
      padding: 10px 15px;
      box-shadow: 0 0 20px #b19cd9, 0 0 30px #b19cd9;
      font-size: 1.3em;
    }

    .time {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .icon-img {
      width: 24px;
      height: 24px;
      filter: invert(1) brightness(2);
    }

    .gear {
      cursor: pointer;
      transition: transform 0.3s;
    }

    .gear:hover {
      transform: rotate(45deg);
    }

    .title {
      font-weight: bold;
    }

    /* --- Settings Popup --- */
    #settingsPanel {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #d8baff;
      color: #000;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 25px #b19cd9;
      display: none;
      width: 300px;
      text-align: left;
      z-index: 1000;
    }

    #settingsPanel input {
      width: 100%;
      padding: 5px;
      margin: 5px 0 10px;
      border-radius: 6px;
      border: none;
    }

    #settingsPanel button {
      background: #b19cd9;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }

    /* --- Other Styles --- */
    .paragraph {
      font-size: 0.75em;
      color: white;
      margin-top: 2.5px;
      margin-bottom: 5px;
    }

    .label {
      margin-top: 30px;
      font-size: 1.5em;
      font-weight: bold;
    }

    #searchContainer {
      margin: 20px auto;
      width: 90%;
      max-width: 600px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #urlInput {
      padding: 8px 15px;
      border-radius: 8px;
      border: none;
      background-color: #ffffff;
      color: #000;
      width: 70%;
      box-shadow: inset 0 3px 6px rgba(0, 0, 0, 0.3);
      font-size: 1em;
    }

    #openNewTabButton {
      background-color: #d8baff;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-left: 10px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3), inset 0 -2px 0 rgba(0, 0, 0, 0.2);
      font-size: 1em;
    }

    #openNewTabButton:hover {
      background-color: #b19cd9;
    }

    .buttons {
      margin-top: 10px;
      display: flex;
      justify-content: center;
      gap: 25px;
      flex-wrap: wrap;
    }

    .circle-btn {
      border-radius: 17.5px;
      border: none;
      background-color: #b19cd9;
      color: #fff;
      font-size: 1em;
      cursor: pointer;
      box-shadow: 0 0 8px #b19cd9, 0 0 12px #b19cd9;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.3s, box-shadow 0.3s;
      padding: 8px 15px;
    }

    .circle-btn:hover {
      background-color: #a292d4;
      box-shadow: 0 0 12px #a292d4, 0 0 20px #a292d4;
    }

    #announcementOverlay {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: rgba(0, 0, 0, 0.7);
      padding: 15px 30px;
      border: 2px solid purple;
      border-radius: 5px;
      box-shadow: 0 0 20px purple, 0 0 30px purple inset;
      font-size: 18px;
      font-weight: bold;
      color: white;
      opacity: 0;
      z-index: 1000; /* Keeps it above most content */
      transition: opacity 0.5s ease-out;
      text-align: center;
    }

    #announcementOverlay.show {
      opacity: 1;
    }

    /* --- New overlay circle styles --- */
    #topOverlayCircle {
      position: fixed;
      top: 10px;
      left: 10px;
      width: 20px;
      height: 20px;
      z-index: 99999; /* Very high to stay on top of everything */
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #topOverlayCircle .circle {
      width: 20px;
      height: 20px;
      background-color: #ffb6c1; /* Light pink */
      border-radius: 50%;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #topOverlayCircle .circle span {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 12px;
      font-family: Arial, sans-serif;
      font-weight: bold;
    }

    /* --- Adjusted styles for small music player at top-left --- */
    #musicContainer {
      position: fixed;
      top: 10px;
      left: 10px;
      width: 250px;
      height: auto;
      z-index: 9999;
      display: flex;
      justify-content: flex-start;
      align-items: flex-start;
      background: transparent;
    }

    /* Small music player box styling */
    .music-player {
      width: 250px;
      background-color: #000;
      border-radius: 8px;
      padding: 5px;
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      box-shadow: 0 0 8px rgba(0,0,0,0.3);
    }

    /* Cover image small top-left */
    .cover-top-left {
      flex-shrink: 0;
    }
    .cover-top-left img {
      width: 50px;
      height: 50px;
      object-fit: cover;
      border-radius: 5px;
      display: none;
    }

    /* Main content styles inside the small player */
    .music-player-content {
      margin-left: 8px;
      flex: 1;
      display: flex;
      flex-direction: column;
      font-size: 0.8em;
      color: white;
    }

    #info {
      display: none;
      font-weight: bold;
    }

    /* Time display styling */
    .time-display {
      font-size: 0.75em;
      margin-bottom: 5px;
    }

    /* Slider styling */
    .slider-container {
      width: 100%;
    }
    .slider {
      width: 100%;
    }

    /* Buttons container */
    .bottom-buttons {
      display: flex;
      justify-content: space-between;
      width: 100%;
      margin-top: 5px;
    }

    /* Play/Pause button centered */
    .play-pause {
      display: flex;
      justify-content: center;
      margin-top: 5px;
    }

    /* Buttons styling inside small player */
    .button {
      background-color: #333;
      border: none;
      color: white;
      padding: 3px 8px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.75em;
      box-shadow: 0 0 4px rgba(0,0,0,0.2);
    }
    .button:hover {
      background-color: #555;
    }

    /* Hide the original audio element */
    #audio {
      display: none;
    }

.floatingButton {
  position: fixed;
  bottom: 15px;
  width: 64px;
  height: 64px;
  border-radius: 50%;
  border: none;
  background: transparent;
  padding: 0;
  cursor: pointer;
  z-index: 10001;
  transition: opacity 0.4s ease, transform 0.2s ease;
}
.floatingButton img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
  box-shadow: 0 6px 18px rgba(139,92,246,0.6);
  background: linear-gradient(135deg, #8b5cf6, #5b21b6);
}
.floatingButton:hover { transform: scale(1.08); }

.widgetContainer {
  position: fixed;
  bottom: 90px;
  left: 20px;
  width: 360px;
  height: 500px;
  border-radius: 14px;
  overflow: hidden;
  background: #1a0f2a;
  border: 2px solid #8b5cf6;
  box-shadow: 0 10px 30px rgba(139,92,246,0.35);
  display: none;
  z-index: 10003;
  transition: opacity 0.4s ease;
}
.widgetContainer iframe {
  width: 100%;
  height: 100%;
  border: none;
}

.tooltip {
  position: fixed;
  background: linear-gradient(135deg, #8b5cf6, #5b21b6);
  color: #fff;
  padding: 10px 16px;
  border-radius: 12px;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transform: translateY(8px);
  transition: opacity 0.25s ease, transform 0.25s ease;
  z-index: 10002;
  box-shadow: 0 6px 16px rgba(139,92,246,0.5);
}
.tooltip.show { opacity: 1; transform: translateY(-6px); }

.idle { opacity: 0.25; }


  </style>
</head>

<!-- Update Log Overlay -->
<div id="updateLogOverlay" style="
    position: fixed;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: 90%;
    max-width: 900px;
    background-color: rgba(58, 0, 89, 0.95);
    color: #fff;
    border: 2px solid #b19cd9;
    border-radius: 12px;
    padding: 15px;
    box-shadow: 0 0 20px #b19cd9;
    max-height: 300px;
    overflow-y: auto;
    z-index: 99999;
    opacity: 0;
    transition: opacity 0.8s ease;
">
  <h2 style="text-align:center; margin-bottom: 10px;">Announcements</h2>
  <div id="updateLogContent"></div>
  <button id="closeUpdateLog" style="
      display:none;
      margin-top: 10px;
      padding: 6px 12px;
      border: none;
      border-radius: 6px;
      background-color: #b19cd9;
      color: white;
      cursor: pointer;
      font-weight: bold;
  ">Close</button>
</div>

<body>
  <!-- Existing overlay -->
  <div id="announcementOverlay" onclick="hideOverlay()">Jebulabubu : DYK WHO</div>

<!-- Top-right time + battery with percentage -->
<div id="topRightStatus" style="
    position: fixed;
    top: 10px;
    right: 10px;
    background-color: rgba(128, 0, 128, 0.6); /* translucent purple */
    padding: 8px 12px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    gap: 8px;
    z-index: 10000;
    color: white;
    font-family: Arial, sans-serif;
    font-size: 14px;
">
    <img id="batteryIcon" src="https://github.com/provxpeuser/Assets/blob/main/6f42859d931c931a7b5438216733942d-removebg-preview.png?raw=true" style="width:24px; height:24px;" alt="Battery">
    <span id="batteryPercentage">--%</span>
    <span id="liveTime">--:--</span>
</div>

<!-- Tooltip -->
<div id="tooltip" class="tooltip">melrahâ€™s intelligence</div>

<!-- Melrah AI Button -->
<button id="chatToggleBtn" class="floatingButton" style="left:20px;">
  <img src="https://github.com/provxpeuser/Assets/blob/main/cute-robot-head-icon-logo-design-illustration-bot-robotic-logo-for-business-design-template-with-futuristic-flat-black-minimalist-style-isolated-on-white-background-vector-removebg-preview.png?raw=true" alt="Melrah AI">
</button>

<!-- Calculator Button -->
<button id="calcToggleBtn" class="floatingButton" style="left:95px;">
  <img src="https://github.com/provxpeuser/Assets/blob/main/1000_F_426766720_z7Fnu0iQQ21C4GIRlfocNo15orUT0frq-removebg-preview.png?raw=true" alt="Calculator">
</button>

<!-- Floating Embeds -->
<div id="chatContainer" class="widgetContainer">
  <iframe src="https://www.chatbase.co/iFMolGga0VfOJ_rzzjaFG/help"></iframe>
</div>

<div id="calcContainer" class="widgetContainer">
  <iframe src="https://www.desmos.com/testing/virginia/scientific"></iframe>
</div>

  <!-- Header -->
  <header>
    <div class="time">
      <span class="time-text" id="liveTime">1.0.0 Beta</span>
    </div>
    <div class="title">Latch ðŸ’¿</div>
    <img src="https://raw.githubusercontent.com/provxpeuser/HarlemMyKingV3/refs/heads/main/IMG_7053.png" class="icon-img gear" alt="Settings" onclick="toggleSettings()" />
  </header>

  <h1 class="paragraph">' Jebunny_LuvsyU2á¥«á­¡ clearly made this</h1>
  <h1 class="paragraph">Adam is helping me code tuff fr.</h1>
  <h1 class="paragraph">Only Adriel Blake and I can have this</h1>

  
  <!-- Settings Panel -->
  <div id="settingsPanel">
    <h3>Settings</h3>
    <label>Page Title:</label>
    <input type="text" id="titleInput" placeholder="Enter new title" />
    <label>Favicon URL:</label>
    <input type="text" id="faviconInput" placeholder="Enter favicon URL" />
    <button onclick="saveSettings()">Save</button>
  </div>

  <!-- Search -->
  <div id="searchContainer">
    <input type="text" id="urlInput" placeholder="Enter a URL or search term" />
    <button id="openNewTabButton">Open</button>
  </div>

  <!-- Buttons -->
  <div class="label">Tools</div>
  <h1 class="paragraph">Tool's you can use during class and functions for this website</h1>
  <div class="buttons">
    <button class="circle-btn" onclick="localStorage.removeItem('accessCode'); location.reload()">Logout</button>
    <button class="circle-btn" data-url="https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/TheLinkBoi" onclick="window.open(this.dataset.url,'_blank')">Discord</button>
    <button class="circle-btn" data-url="https://forms.gle/B9oSE3ghxwD2eu7W6" onclick="window.open(this.dataset.url,'_blank')">New Music Form</button>
    <button class="circle-btn" data-url="https://www.desmos.com/testing/virginia/scientific" onclick="openEmbedWebsite(this)">Desmos Calculator</button>
    <button class="circle-btn" data-url="https://etld.securly.com.surf.surfnet.ca/pages/apps/securly.html" onclick="openEmbedWebsite(this)">Securly Checker</button>
    <button class="circle-btn" data-url="https://etld.securly.com.surf.surfnet.ca/pages/music" onclick="openEmbedWebsite(this)">Argon Music Player</button>
    <button class="circle-btn" data-url="https://freefy.app" onclick="openEmbedWebsite(this)">FreeFy Music Player</button>
    <button class="circle-btn" data-url="https://t9os.vercel.app/music.html" onclick="openEmbedWebsite(this)">Rat Music Player</button>
    <button class="circle-btn" data-url="https://tabchats.lovable.app" onclick="openEmbedWebsite(this)">Tabchats (Messages)</button>
    <button class="circle-btn" data-url="https://math-homework.elude.cfd/" onclick="openEmbedWebsite(this)">Proxy</button>
    <h1 class="paragraph">My Tabchat WP645</h1>
  </div>

  <div class="label">Games</div>
  <h1 class="paragraph">Games to waste your time during class</h1>
  <div class="buttons">
   <button class="circle-btn" data-url="https://3kh0-assets.silvereen.net/3kh0-assets/ball-dodge" onclick="openEmbedWebsite(this)">Ball Dodge</button>
   <button class="circle-btn" data-url="https://pizzaedition.win/assets/allgames/1v1.lol-main/1v1.lol/index.html" onclick="openEmbedWebsite(this)">1v1.lol</button>
   <button class="circle-btn" data-url="https://ovo-5yu.pages.dev/versions/1.4.4b/" onclick="openEmbedWebsite(this)">OvO</button>
   <button class="circle-btn" data-url="https://www.2048.org/" onclick="openEmbedWebsite(this)">2048</button>
   <button class="circle-btn" data-url="https://webmc.xyz/" onclick="openEmbedWebsite(this)">Eaglercraft Client Launcher</button>
   <button class="circle-btn" data-url="https://1kh0.github.io/projects/retro-bowl/index.html" onclick="openEmbedWebsite(this)">RetroBowl</button>
   <button class="circle-btn" data-url="https://sussygamedeveloper.github.io/FNAF2/" onclick="openEmbedWebsite(this)">FNAF 2</button>
   <button class="circle-btn" data-url="https://deadshot.io/" onclick="openEmbedWebsite(this)">Deadshot</button>
   <button class="circle-btn" data-url="https://www.hoodamath.com/mobile/games/drift-boss/game.html" onclick="openEmbedWebsite(this)">Drift Boss</button>
   <button class="circle-btn" data-url="https://pizzaedition.win/assets/allgames/subway-surfersSP/index.html" onclick="openEmbedWebsite(this)">Subway Surfers</button>
   <button class="circle-btn" data-url="https://db.duck.exampredictor.org/html/basket_random/index.html" onclick="openEmbedWebsite(this)">Basketball Random</button>
   <button class="circle-btn" data-url="https://etld.securly.com.surf.surfnet.ca/pages/games-frame.html?url=/pages/games/block-blast/index.html" onclick="openEmbedWebsite(this)">Block Blast</button>
   <button class="circle-btn" data-url="https://etld.securly.com.surf.surfnet.ca/pages/games-frame.html?url=/pages/games/crazy-cattle-3d/index.html" onclick="openEmbedWebsite(this)">Crazy Cattle 3D</button>
   <button class="circle-btn" data-url="https://etld.securly.com.surf.surfnet.ca/pages/games-frame.html?url=/pages/games/sandboxels/index.html" onclick="openEmbedWebsite(this)">Sandboxels</button>
   <button class="circle-btn" data-url="https://pizzaedition.win/assets/allgames/crossyroadnormal/" onclick="openEmbedWebsite(this)">CrossyRoads</button>
   <button class="circle-btn" data-url="https://pizzaedition.win/assets/allgames/stackbounce" onclick="openEmbedWebsite(this)">Stack Bounce</button>
   <button class="circle-btn" data-url="https://rawcdn.githack.com/genizy/google-class/main/gdlite/" onclick="openEmbedWebsite(this)">Geometry Dash Lite</button>
   <button class="circle-btn" data-url="https://db.duck.exampredictor.org/html/ragdoll_archers/index.html" onclick="openEmbedWebsite(this)">Ragdoll Archers</button>
   <button class="circle-btn" data-url="https://pizzaedition.win/assets/allgames/growagarden/" onclick="openEmbedWebsite(this)">Grow A Farm</button>
   <button class="circle-btn" data-url="https://db.duck.exampredictor.org/html/steal_a_brainrot_2/" onclick="openEmbedWebsite(this)">Steal A Brainrot</button>
    <button class="circle-btn" data-url="https://db.duck.exampredictor.org/html/obby_but_youre_on_a_bike/" onclick="openEmbedWebsite(this)">Obby But Your On A Bike</button>
    <button class="circle-btn" data-url="https://db.duck.exampredictor.org/html/plants_vs_brainrots/" onclick="openEmbedWebsite(this)">Plants Vs Brainrots</button>
   <button class="circle-btn" data-url="https://pizzaedition.win/assets/allgames/drive-mad/index.html" onclick="openEmbedWebsite(this)">Drive Mad</button>
   <button class="circle-btn" data-url="https://pizzaedition.win/assets/allgames/fruitninja/" onclick="openEmbedWebsite(this)">Fruit Ninja</button>
    <button class="circle-btn" data-url="https://1games.io/game/doodle-baseball" onclick="openEmbedWebsite(this)">Doodle Baseball</button>
    <button class="circle-btn" data-url="https://db.duck.exampredictor.org/html/clash_royale" onclick="openEmbedWebsite(this)">Clash Of Vikings</button>
  </div>

  <div class="label">Forbidden Tools</div>
  <h1 class="paragraph">Beyond This Point its your fault if you get in trouble</h1>
  <div class="buttons">
    <button class="circle-btn" data-url="https://t9os.vercel.app/ai/index.html" onclick="openEmbedWebsite(this)">Melrah's Intellegence V2</button>
    <button class="circle-btn" data-url="https://www.chatbase.co/iFMolGga0VfOJ_rzzjaFG/help" onclick="openEmbedWebsite(this)">Melrah's Intellegence V1</button>
    <button class="circle-btn" data-url="https://formb.pegoku.com" onclick="openEmbedWebsite(this)">View Source Exploit</button>
    <button class="circle-btn" data-url="https://croxyproxy.com" onclick="openEmbedWebsite(this)">CroxyProxy</button>
  </div>

  <!-- Music Player Container: small top-left positioned -->
  <div id="musicContainer" style="position: fixed; top: 10px; left: 10px; z-index: 9999; width: 250px; height: auto; background: transparent; display: flex; justify-content: flex-start; align-items: flex-start;">
    <!-- Insert the music player HTML here -->
    <div class="music-player" style="width: 250px; background-color: #000; border-radius: 8px; padding: 5px; display: flex; flex-direction: row; align-items: flex-start; box-shadow: 0 0 8px rgba(0,0,0,0.3);">
      <!-- Cover image small top-left -->
      <div class="cover-top-left" style="flex-shrink: 0;">
        <img id="coverImage" src="" alt="Album Cover" style="width: 50px; height: 50px; object-fit: cover; border-radius: 5px; display: none;">
      </div>
      <!-- Main content -->
      <div class="music-player-content" style="margin-left: 8px; flex: 1; display: flex; flex-direction: column; font-size: 0.8em; color: white;">
        <div class="song-info" id="info" style="display:none; font-weight: bold;"></div>
        <!-- Time display -->
        <div class="time-display" style="margin-bottom: 5px;">
          <span id="currentTime">0:00</span> / <span id="totalTime">0:00</span>
        </div>
        <!-- Slider in the middle -->
        <div class="slider-container" style="width: 100%;">
          <input type="range" id="slider" class="slider" value="0" step="0.1" min="0" style="width:100%;">
        </div>
        <!-- Previous and Next buttons -->
        <div class="bottom-buttons" style="display:flex; justify-content: space-between; width: 100%; margin-top: 5px;">
          <button class="button" onclick="prevSong()">Previous</button>
          <button class="button" onclick="nextSong()">Next</button>
        </div>
        <!-- Single Play/Pause toggle button at bottom -->
        <div class="play-pause" style="margin-top: 5px; display: flex; justify-content: center;">
          <button class="button" onclick="togglePlay()">Play</button>
        </div>
      </div>
      <audio id="audio" style="display:none;"></audio>
    </div>
  </div>
</body>
<script>

// Update log entries (most recent first)
const updates = [
  { date: "6:58pm Update", message: "" },
  { date: "' Jebunny_LuvsyU2á¥«á­¡", message: "MELRAH INTELEGENCE HAS BEEN FIXED" },
  { date: "' Jebunny_LuvsyU2á¥«á­¡", message: "Added Buttons for embeded Melrah Intellegence in your browser. Look at the bottom left" },
  { date: "' Jebunny_LuvsyU2á¥«á­¡", message: "New Music Has Been Added" },

];

function showUpdateLog() {
  const overlay = document.getElementById("updateLogOverlay");
  const logContent = document.getElementById("updateLogContent");
  const closeBtn = document.getElementById("closeUpdateLog");

  // Get last update the user has seen
  const lastSeen = localStorage.getItem("lastUpdateSeen") || "";

  // Find the latest update
  const latestUpdate = updates[0].date;

  // Only show if latest update is new
  if (latestUpdate !== lastSeen) {
    // Populate updates
    logContent.innerHTML = "";
    updates.forEach(u => {
      const p = document.createElement("p");
      p.textContent = `${u.date}: ${u.message}`;
      p.style.marginBottom = "6px";
      logContent.appendChild(p);
    });

    overlay.style.display = "block";
    setTimeout(() => overlay.style.opacity = 1, 50); // fade in

    closeBtn.style.display = "none"; // hide close button for 5 sec
    setTimeout(() => {
      closeBtn.style.display = "block";
      closeBtn.onclick = () => {
        overlay.style.opacity = 0;
        setTimeout(() => overlay.style.display = "none", 800);
        // Save that user has seen the latest update
        localStorage.setItem("lastUpdateSeen", latestUpdate);
      };
    }, 5000);
  }
}

window.addEventListener("load", showUpdateLog);


  window.onload = function () {
    const overlay = document.getElementById("announcementOverlay");
    overlay.classList.add("show");
    setTimeout(() => (overlay.style.display = "none"), 10000);
    loadSavedSettings();
    updateTime();
    setInterval(updateTime, 1000);
    loadMedia();
  };

  function hideOverlay() {
    document.getElementById("announcementOverlay").style.display = "none";
  }

    function updateTime() {
      const now = new Date();
      const timeString = now.toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" });
      document.getElementById("liveTime").textContent = timeString;
    }

  function toggleSettings() {
    const panel = document.getElementById("settingsPanel");
    panel.style.display = panel.style.display === "block" ? "none" : "block";
  }

function openNewTab(url) {
  window.open(url, "_blank");
}

  function saveSettings() {
    const newTitle = document.getElementById("titleInput").value;
    const newFavicon = document.getElementById("faviconInput").value;
    if (newTitle) {
      document.title = newTitle;
      localStorage.setItem("customTitle", newTitle);
    }
    if (newFavicon) {
      document.getElementById("dynamic-favicon").href = newFavicon;
      localStorage.setItem("customFavicon", newFavicon);
    }
    toggleSettings();
  }

  function loadSavedSettings() {
    const savedTitle = localStorage.getItem("customTitle");
    const savedFavicon = localStorage.getItem("customFavicon");
    if (savedTitle) document.title = savedTitle;
    if (savedFavicon) document.getElementById("dynamic-favicon").href = savedFavicon;
  }

  document.getElementById("openNewTabButton").addEventListener("click", performSearch);
  document.getElementById("urlInput").addEventListener("keydown", e => {
    if (e.key === "Enter") performSearch();
  });

  function performSearch() {
    const input = document.getElementById("urlInput").value.trim();
    if (input) {
      const url = input.startsWith("https://")
        ? input
        : `https://www.google.com/search?igu=1&q=${encodeURIComponent(input)}`;
      loadWebsiteInNewTab(url);
    }
  }

    const buttons = [
      { btn: document.getElementById("chatToggleBtn"), container: document.getElementById("chatContainer"), tooltipText: "melrahâ€™s intelligence" },
      { btn: document.getElementById("calcToggleBtn"), container: document.getElementById("calcContainer"), tooltipText: "Calculator" }
    ];

    const tooltip = document.getElementById("tooltip");
    let idleTimer, hoverTimer;

    function resetIdle() {
      document.querySelectorAll('.floatingButton').forEach(b => b.classList.remove('idle'));
      document.querySelectorAll('.widgetContainer').forEach(c => c.classList.remove('idle'));
      clearTimeout(idleTimer);
      idleTimer = setTimeout(() => {
        document.querySelectorAll('.floatingButton').forEach(b => b.classList.add('idle'));
        document.querySelectorAll('.widgetContainer').forEach(c => c.classList.add('idle'));
      }, 5000);
    }

    buttons.forEach(obj => {
      const { btn, container, tooltipText } = obj;

      btn.addEventListener("click", () => {
        container.style.display = container.style.display === "block" ? "none" : "block";
        resetIdle();
      });

      btn.addEventListener("mouseenter", () => {
        hoverTimer = setTimeout(() => {
          tooltip.textContent = tooltipText;
          tooltip.classList.add("show");
          const rect = btn.getBoundingClientRect();
          tooltip.style.left = rect.left + "px";
          tooltip.style.bottom = (window.innerHeight - rect.top + 10) + "px";
        }, 1000);
        resetIdle();
      });

      btn.addEventListener("mouseleave", () => {
        clearTimeout(hoverTimer);
        tooltip.classList.remove("show");
      });

      [btn, container].forEach(el => {
        el.addEventListener("mouseenter", resetIdle);
        el.addEventListener("mousemove", resetIdle);
      });
    });

    resetIdle();

  function openEmbedWebsite(button) {
    const url = button.getAttribute("data-url");
    loadWebsiteInNewTab(url);
  }

function resetAccess() {
  localStorage.removeItem("accessCode");
}

function loadWebsiteInNewTab(url) {
  const newWindow = window.open("about:blank", "_blank");
  newWindow.document.write(`
<!DOCTYPE html>
<html>
<head>
  <title>Dashboard</title>
  <style>
    body { margin:0; padding:0; overflow:hidden; font-family:'Inter',Arial,sans-serif; background:#000; }
    iframe { width:100vw; height:100vh; border:none; }

    /* URL BAR */
    #urlBar {
      position: fixed;
      top:10px;
      left:50%;
      transform: translateX(-50%);
      width:75%;
      height:50px;
      display:flex;
      align-items:center;
      gap:10px;
      padding:0 16px;
      background: rgba(88,28,135,0.75);
      border-radius:25px;
      backdrop-filter: blur(10px);
      z-index:10001;
      border:2px solid rgba(139,92,246,0.6);
      box-shadow:0 6px 18px rgba(139,92,246,0.4);
    }

    #urlInput {
      flex:1;
      height:36px;
      background: rgba(0,0,0,0.45);
      border:1px solid rgba(139,92,246,0.6);
      color:#fff;
      padding:0 14px;
      border-radius:18px;
      outline:none;
    }

    #goBtn {
      height:36px;
      padding:0 18px;
      background: linear-gradient(135deg,#8b5cf6,#5b21b6);
      border:none;
      color:white;
      border-radius:18px;
      cursor:pointer;
      font-weight:600;
    }

    /* STATUS */
    #topRightStatus {
      position:fixed;
      top:10px;
      right:10px;
      background: rgba(128,0,128,0.6);
      padding:8px 12px;
      border-radius:10px;
      display:flex;
      gap:8px;
      color:white;
      z-index:10000;
      font-size:14px;
      align-items:center;
    }

    #topRightStatus img { width:24px; height:24px; }

    /* FLOATING BUTTONS */
    .floatingButton {
      position:fixed;
      bottom:15px;
      width:64px;
      height:64px;
      border-radius:50%;
      border:none;
      background:transparent;
      padding:0;
      cursor:pointer;
      z-index:10001;
      transition:opacity .4s ease, transform .2s ease;
    }

    .floatingButton img {
      width:100%;
      height:100%;
      border-radius:50%;
      object-fit:cover;
      background: linear-gradient(135deg,#8b5cf6,#5b21b6);
      box-shadow:0 6px 18px rgba(139,92,246,.6);
    }

    .floatingButton:hover { transform:scale(1.08); }

    /* TOOLTIP */
    .tooltip {
      position:fixed;
      background: linear-gradient(135deg,#8b5cf6,#5b21b6);
      color:#fff;
      padding:10px 16px;
      border-radius:12px;
      font-size:14px;
      font-weight:600;
      white-space:nowrap;
      opacity:0;
      pointer-events:none;
      transform:translateY(8px);
      transition:.25s;
      z-index:10002;
    }

    .tooltip.show { opacity:1; transform:translateY(-6px); }

    /* WIDGETS */
    .widgetContainer {
      position:fixed;
      bottom:90px;
      left:20px;
      width:360px;
      height:500px;
      border-radius:14px;
      overflow:hidden;
      background:#1a0f2a;
      border:2px solid #8b5cf6;
      box-shadow:0 10px 30px rgba(139,92,246,.35);
      display:none;
      z-index:10003;
    }

    .widgetContainer iframe { width:100%; height:100%; }

    .ui-hidden { display:none !important; }
  </style>
</head>

<body>

  <!-- URL BAR -->
  <div id="urlBar" class="uiElement">
    <input id="urlInput">
    <button id="goBtn">Reload</button>
  </div>

  <!-- STATUS -->
  <div id="topRightStatus" class="uiElement">
    <img id="batteryIcon">
    <span id="batteryPercentage">--%</span>
    <span id="liveTime">--:--</span>
  </div>

  <!-- MAIN IFRAME -->
  <iframe id="mainIframe" src="${url}"></iframe>

  <div id="tooltip" class="tooltip uiElement"></div>

  <!-- BUTTONS -->
  <button id="chatToggleBtn" class="floatingButton uiElement" style="left:20px;">
    <img src="https://github.com/provxpeuser/Assets/blob/main/cute-robot-head-icon-logo-design-illustration-bot-robotic-logo-for-business-design-template-with-futuristic-flat-black-minimalist-style-isolated-on-white-background-vector-removebg-preview.png?raw=true">
  </button>

  <button id="calcToggleBtn" class="floatingButton uiElement" style="left:95px;">
    <img src="https://github.com/provxpeuser/Assets/blob/main/1000_F_426766720_z7Fnu0iQQ21C4GIRlfocNo15orUT0frq-removebg-preview.png?raw=true">
  </button>

  <button id="reloadBtn" class="floatingButton uiElement" style="left:170px;">
    <img src="https://github.com/provxpeuser/Assets/blob/main/Untitled_design-removebg-preview%20(1).png?raw=true">
  </button>

  <!-- FOCUS BUTTON -->
  <button id="focusToggleBtn" class="floatingButton" style="left:245px;">
    <img src="https://github.com/provxpeuser/Assets/blob/main/Untitled_design__1_-removebg-preview%20(1).png?raw=true">
  </button>

  <!-- WIDGETS -->
  <div id="chatContainer" class="widgetContainer uiElement">
    <iframe src="https://www.chatbase.co/iFMolGga0VfOJ_rzzjaFG/help"></iframe>
  </div>

  <div id="calcContainer" class="widgetContainer uiElement">
    <iframe src="https://www.desmos.com/testing/virginia/scientific"></iframe>
  </div>

<script>
/* TIME */
setInterval(()=>{
  liveTime.textContent = new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'});
},1000);

/* BATTERY (RESTORED) */
if (navigator.getBattery) {
  navigator.getBattery().then(battery => {
    function updateBattery() {
      const p = Math.round(battery.level * 100);
      batteryPercentage.textContent = p + "%";

      if (p <= 25)
        batteryIcon.src = "https://github.com/provxpeuser/Assets/blob/main/6f42859d931c931a7b5438216733942d-removebg-preview.png?raw=true";
      else if (p <= 75)
        batteryIcon.src = "https://github.com/provxpeuser/Assets/blob/main/Untitled_design-removebg-preview.png?raw=true";
      else
        batteryIcon.src = "https://github.com/provxpeuser/Assets/blob/main/Untitled_design__1_-removebg-preview.png?raw=true";
    }

    updateBattery();
    battery.addEventListener("levelchange", updateBattery);
    battery.addEventListener("chargingchange", updateBattery);
  });
} else {
  batteryPercentage.textContent = "N/A";
}

/* URL BAR */
urlInput.value = mainIframe.src;
goBtn.onclick = () => mainIframe.src = mainIframe.src;

/* WIDGET TOGGLES */
chatToggleBtn.onclick = () =>
  chatContainer.style.display = chatContainer.style.display==="block"?"none":"block";

calcToggleBtn.onclick = () =>
  calcContainer.style.display = calcContainer.style.display==="block"?"none":"block";

reloadBtn.onclick = () => {
  mainIframe.src = mainIframe.src;
  document.querySelectorAll(".widgetContainer iframe").forEach(f=>f.src=f.src);
};

/* FOCUS MODE */
let focus = false;
focusToggleBtn.onclick = () => {
  focus = !focus;
  document.querySelectorAll(".uiElement")
    .forEach(el => el.classList.toggle("ui-hidden", focus));
};
</\script>

</body>
</html>
  `);
}

  // Music Player JavaScript
  const musicData = [
      {
          title: "AEAO",
          artist: "Dynamic Duo & DJ Premier",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/AEAO%2520-%2520Dynamicduo%252C%2520DJ%2520Premier%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://cdn-images.dzcdn.net/images/cover/749847935fe2d98fa35f38db541b6dfb/1900x1900-000000-80-0-0.jpg"
      },
      {
          title: "ALL MINE",
          artist: "Brent Faiyaz",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/ALL%2520MINE%2520-%2520Brent%2520Faiyaz%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://cdn-images.dzcdn.net/images/cover/51d0d130671262611c927bd63c192670/1900x1900-000000-80-0-0.jpg"
      },
      {
          title: "Beaches",
          artist: "beabadoobee",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Beaches%2520-%2520beabadoobee%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i1.sndcdn.com/artworks-ApuUS8VUAJnp-0-t500x500.jpg"
      },
      {
          title: "Don't Wanna Fall in Love",
          artist: "KYLE",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Don%2527t%2520Wanna%2520Fall%2520in%2520Love%2520-%2520KYLE%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i.scdn.co/image/ab67616d0000b273d175dc5386a77ae358e9b9f6"
      },
      {
          title: "Glue Song (feat. Clairo)",
          artist: "beabadoobee, Clairo",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Glue%2520Song%2520%2528feat.%2520Clairo%2529%2520-%2520beabadoobee%252C%2520Clairo%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i.scdn.co/image/ab67616d0000b273e3862aeefcb2f0860ef017e4"
      },
      {
          title: "Hold Me Down",
          artist: "Daniel Caesar",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Hold%2520Me%2520Down%2520-%2520Daniel%2520Caesar%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i1.sndcdn.com/artworks-BmqZpjNfBhCa-0-t500x500.jpg"
      },
      {
          title: "Japanese Denim",
          artist: "Daniel Caesar",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Japanese%2520Denim%2520-%2520Daniel%2520Caesar%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i.scdn.co/image/ab67616d0000b273a5fdb1881facf322db861eef"
      },
      {
          title: "Lay It Down",
          artist: "Lloyd",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Lay%2520It%2520Down%2520-%2520Lloyd%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i1.sndcdn.com/artworks-000008803043-cgusa9-t500x500.jpg"
      },
      {
          title: "Pasilyo",
          artist: "SunKissed Lola",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Pasilyo%2520-%2520SunKissed%2520Lola%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://cdn-images.dzcdn.net/images/cover/be16348d8a77ca6f89dc015f92fe7b42/0x1900-000000-80-0-0.jpg"
      },
      {
          title: "Pink + White",
          artist: "Frank Ocean",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Pink%2520%252B%2520White%2520-%2520Frank%2520Ocean%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://cdn-images.dzcdn.net/images/cover/f798a866107715dd6dc1049e498ce21f/1900x1900-000000-80-0-0.jpg"
      },
      // New songs added below
      {
          title: "Just Us (feat. SZA)",
          artist: "DJ Khaled & SZA",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Just%2520Us%2520%2528feat.%2520SZA%2529%2520-%2520DJ%2520Khaled%2520feat.%2520SZA%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i1.sndcdn.com/artworks-glbpQRLTmLbw-0-t500x500.jpg"
      },
      {
          title: "Meeting in My Bedroom",
          artist: "Silk",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Meeting%2520in%2520My%2520Bedroom%2520-%2520Silk%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i.scdn.co/image/780a7a3c15058b9dc93b1cd381d3a18d9ab589fe"
      },
      {
          title: "Cameras / Good Ones Go Interlude",
          artist: "Drake",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Cameras%2520%252F%2520Good%2520Ones%2520Go%2520Interlude%2520-%2520Drake%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i1.sndcdn.com/artworks-kjcIrT6ZBiHQ-0-t500x500.jpg"
      },
      {
          title: "Shut It Down (feat. The-Dream)",
          artist: "Drake",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Shut%2520It%2520Down%2520%2528feat.%2520The-Dream%2529%2520-%2520Drake%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i1.sndcdn.com/artworks-xj6Wr9nxtsH7-0-t500x500.jpg"
      },
      {
          title: "Bad At Love",
          artist: "Halsey",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Bad%2520At%2520Love%2520-%2520Halsey%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i1.sndcdn.com/artworks-ZtsHPtssJfHF-0-t500x500.jpg"
      },

      {
          title: "Style",
          artist: "Taylor Swift",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Style%2520-%2520Taylor%2520Swift%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i1.sndcdn.com/artworks-jxcqeIHFWqxw-0-t500x500.jpg"
      },

      {
          title: "Novacane (Edited Version)",
          artist: "Frank Ocean",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/SpotiDownloader.com%20-%20Novacane%20-%20Edited%20Version%20-%20Frank%20Ocean.mp3",
          cover: "https://upload.wikimedia.org/wikipedia/en/6/61/FrankOceanNovacane.jpg"
      }
      ,{
          title: "Love",
          artist: "Keisha Cole",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Love%2520-%2520Keyshia%2520Cole%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://cdn-images.dzcdn.net/images/cover/161e3a1edf6c5d7825599b70ce323320/1900x1900-000000-80-0-0.jpg"
      }
      ,{
          title: "Sativa",
          artist: "Sway Lee, Jhene Aiko",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Sativa%2520%2528feat.%2520Swae%2520Lee%2529%2520-%2520Jhen%25C3%25A9%2520Aiko%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i.scdn.co/image/ab67616d0000b2737ccc8005498d9f75b03333c2"
      }

      ,{
          title: "Bad",
          artist: "Wave To Earth",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/bad%2520-%2520wave%2520to%2520earth%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://www.koreanindie.com/wp-content/uploads/2020/10/wave-to-earth-summer-flows-0.02.jpg"
      }

      ,{
          title: "You Da One",
          artist: "Rihanna",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/You%2520Da%2520One%2520%2528Album%2520Version%2529%2520-%2520Rihanna%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i.scdn.co/image/ab67616d0000b2731c5eacf6965d328c2c795cef"
      }

      ,{
          title: "Toronto 2014",
          artist: "Daniel Caesar",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Toronto%25202014%2520-%2520Daniel%2520Caesar%252C%2520Mustafa%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i1.sndcdn.com/artworks-HFRe2J53TGF0-0-t500x500.jpg"
      }

      ,{
          title: "Transform",
          artist: "Daniel Caesar",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Transform%2520%2528feat.%2520Charlotte%2520Day%2520Wilson%2529%2520-%2520Daniel%2520Caesar%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i.scdn.co/image/ab67616d0000b2733138f891f3075c9c5d944037"
      }

      ,{
          title: "Can't Hide It",
          artist: "Lil Durk, Jhene Aiko",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Can%2527t%2520Hide%2520It%2520%2528feat.%2520Jhen%25C3%25A9%2520Aiko%2529%2520-%2520Lil%2520Durk%2520feat.%2520Jhene%2520Aiko%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://upload.wikimedia.org/wikipedia/en/a/a7/Lil_Durk_-_Can%27t_Hide_It.jpg"
      }

      ,{
          title: "L.O.V.E",
          artist: "Kendrick Lamar",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/LOVE.%2520%2528feat.%2520Zacari%2529%2520-%2520Kendrick%2520Lamar%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://i1.sndcdn.com/artworks-kCp9K4EbNH1R-0-t500x500.jpg"
      }

      ,{
          title: "Slow Down",
          artist: "Bobby V",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Slow%2520Down%2520%252812%2522%2520Version%2529%2520-%2520Bobby%2520V.%2520-%2520SoundLoadMate.com.mp3",
          cover: "https://cdn-images.dzcdn.net/images/cover/0d3cb2ca458fc783c73768f8d0d5f9f2/1900x1900-000000-80-0-0.jpg"
      }

      ,{
          title: "Forest Gump",
          artist: "Frank Ocean",
          url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/SpotiDownloader.com%20-%20Forrest%20Gump%20-%20Frank%20Ocean.mp3",
          cover: "https://i1.sndcdn.com/artworks-000130335832-r4lpwu-t500x500.jpg"
      }
    // New raw songs
    ,{
        title: "Blank Space",
        artist: "Taylor Swift",
        url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/Blank%20Space.mp3",
        cover: "https://i1.sndcdn.com/artworks-000096487987-q2ud6f-t500x500.jpg"
    },
    {
        title: "I Wanna Be With You",
        artist: "Dj Khaled, Nicki Minaj, Future, Rick Ross",
        url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/I%20Wanna%20Be%20With%20You.mp3",
        cover: "https://upload.wikimedia.org/wikipedia/en/e/e6/DJKhaledIWannaBeWithYouCover.png"
    },
    {
        title: "1-800-273-8255",
        artist: "Logic",
        url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/SpotiDownloader.com%20-%201-800-273-8255%20-%20Logic.mp3",
        cover: "https://i1.sndcdn.com/artworks-0MDpYdXSSY9l-0-t500x500.jpg"
    },
    {
        title: "All I Want Is You (feat. J. Cole)",
        artist: "Miguel, J Cole",
        url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/All%20I%20Want%20Is%20You%20(feat.%20J.%20Cole).mp3",
        cover: "https://upload.wikimedia.org/wikipedia/en/6/6c/Miguel_All-I-Want-Is-You.jpg"
    },
    {
        title: "No Fear",
        artist: "Dej Loaf",
        url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/No%20Fear.mp3",
        cover: "https://cdn-images.dzcdn.net/images/cover/0e320745616d963ef1324e2f280b93b4/1900x1900-000000-80-0-0.jpg"
    },
    {
        title: "Strategy (feat. Megan Thee Stallion)",
        artist: "Twice, Megan Thee Stallion",
        url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/Strategy%20(feat.%20Megan%20Thee%20Stallion).mp3",
        cover: "https://i.scdn.co/image/ab67616d0000b273acf8ff27be32aec99d6c99a0"
    },
    {
        title: "Moonlight",
        artist: "Kali Uchis",
        url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/Moonlight.mp3",
        cover: "https://i.scdn.co/image/ab67616d0000b27381fccd758776d16b87721b17"
    },
    {
        title: "Moves Like Jagger - Radio Edit",
        artist: "Marron 5, Christina Aguilera",
        url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/Moves%20Like%20Jagger%20-%20Radio%20Edit.mp3",
        cover: "https://i.scdn.co/image/ab67616d0000b273eb1311156748ee77974bead3"
    },
    {
        title: "You",
        artist: "Lloyd, Lil Wayne",
        url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/You.mp3",
        cover: "https://upload.wikimedia.org/wikipedia/en/6/6b/Lloyd_you_single_cover.jpg"
    },
    {
        title: "Come Back - Buddha Remastered 2001",
        artist: "The Five Stairsteps",
        url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/Come%20Back%20-%20Buddha%20Remastered%202001.mp3",
        cover: "https://i.scdn.co/image/ab67616d0000b273b4b2642b767f641a15c9fef1"
    },
    {
        title: "Sure Thing",
        artist: "Miguel",
        url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/Sure%20Thing.mp3",
        cover: "https://cdn-images.dzcdn.net/images/cover/23f94611c678b0c16b2a8336fa420e3f/1900x1900-000000-80-0-0.jpg"
    },
    {
        title: "Thinkin Bout You",
        artist: "Frank Ocean",
        url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/Thinkin%20Bout%20You.mp3",
        cover: "https://albumart.publicradio.org/mb/f8/f8f4167d-897c-4b25-a171-638374d1dfa4_3c4d.jpg"
    }
    // Additional new songs
,{
    title: "Nothin' On You",
    artist: "B.o.B feat. Bruno Mars",
    url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/B.o.B%20-%20Nothin'%20On%20You%20(feat.%20Bruno%20Mars).mp3",
    cover: "https://upload.wikimedia.org/wikipedia/en/6/6d/Bobnothinonyou.jpg" // Replace with actual cover
},
{
    title: "Bood Up",
    artist: "Ella Mai",
    url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Bood_Up_KLICKAUD.mp3",
    cover: "https://upload.wikimedia.org/wikipedia/en/a/a3/Ella_Mai_Boo%27d_Up.png" // Replace with actual cover
},
{
    title: "Thim Slick",
    artist: "Fabolous feat. Jeremih",
    url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Fabolous%20-%20Thim%20Slick%20Ft.%20Jeremih%20(Soul%20Tape%203).mp3",
    cover: "https://i.scdn.co/image/ab67616d0000b273366b4363b1f965945af10de5" // Replace with actual cover
},
{
    title: "Hell N Back",
    artist: "Summer Walker",
    url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Hell%20N%20Back%20(feat.%20Summer%20Walker).mp3",
    cover: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSSrBAYxZ5X90CAcKsoCYn6CwBj92BNpXGPJA&s" // Replace with actual cover
},
{
    title: "Made Sum Plans",
    artist: "Osamason",
    url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Made_Sum_Plans_KLICKAUD.mp3",
    cover: "https://i1.sndcdn.com/artworks-qHsyO3Jw4EktYfxK-bLkzkQ-t500x500.png" // Replace with actual cover
},
{
    title: "Luther",
    artist: "Kendrick Lamar, Sza",
    url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/luther.mp3",
    cover: "https://i1.sndcdn.com/artworks-jZ93rCn38aCM3smD-Uyy2sQ-t500x500.jpg" // Replace with actual cover
},
{
    title: "Virginia Beach",
    artist: "Drake",
    url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Virginia%20Beach.mp3",
    cover: "https://cdn-images.dzcdn.net/images/cover/868162e87da67d647789ed7b6456840c/1900x1900-000000-80-0-0.jpg"
},
{
    title: "No Pole",
    artist: "Don Toliver",
    url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/No%20Pole.mp3",
    cover: "https://i.scdn.co/image/ab67616d0000b273f5e27c2aa0b110c2b6611577"
},
{
    title: "Cece's Interlude",
    artist: "Drake",
    url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Cece's%20Interlude.mp3",
    cover: "https://i.scdn.co/image/ab67616d0000b27311b21e8b868800918d21bb77"
},
{
    title: "Don't Think They Know (feat. Aaliyah)",
    artist: "Chris Brown, Aaliyah",
    url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Don't%20Think%20They%20Know%20(feat.%20Aaliyah).mp3",
    cover: "https://i.scdn.co/image/ab67616d0000b273b37e6176a034d4470304d706"
},
{
    title: "s3x With Me",
    artist: "Rihanna",
    url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/SpotiDown.App%20-%20Sex%20With%20Me%20-%20Rihanna.mp3",
    cover: "https://i.scdn.co/image/ab67616d0000b27373822c5bfc43757726616cd8"
},
{
    title: "Passionfruit",
    artist: "Drake",
    url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/Passionfruit.mp3",
    cover: "https://i.scdn.co/image/ab67616d0000b273b5e29a4897d7cce79673910a"
},
{
    title: "Leave Em Alone",
    artist: "Quality Control, Layton Greene, Lil Baby, City Girls, PnB Rock",
    url: "https://raw.githubusercontent.com/provxpeuser/LatchCap_V1/refs/heads/main/SpotiDown.App%20-%20Leave%20Em%20Alone%20-%20Quality%20Control_%20Layton%20Greene_%20Lil%20Baby_%20City%20Girls_%20PnB%20Rock.mp3",
    cover: "https://upload.wikimedia.org/wikipedia/en/5/55/Leave_Em_Alone.jpg"
},
{
    title: "My Beyonce",
    artist: "Lil Durk",
    url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/SpotiDownloader.com%20-%20My%20Beyonc%C3%A9%20-%20Lil%20Durk.mp3",
    cover: "https://upload.wikimedia.org/wikipedia/en/5/51/Lil_Durk_-_My_Beyonce.jpg"
},
{
    title: "Waves",
    artist: "Dej Loaf, Jacquess",
    url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/Waves_spotdown.org.mp3",
    cover: "https://i.scdn.co/image/ab67616d0000b2736d8414de8a94fbf46bc418af"
},
{
    title: "Share My World",
    artist: "Mary J. Blige",
    url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/SpotiDown.App%20-%20Share%20My%20World%20-%20Mary%20J.%20Blige.mp3",
    cover: "https://image-cdn-ak.spotifycdn.com/image/ab67616d00001e0296fce33ce14c90aee61017a0"
},
{
    title: "Crush",
    artist: "Yuna",
    url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/SpotiDown.App%20-%20Crush%20-%20Yuna.mp3",
    cover: "https://i1.sndcdn.com/artworks-DpY3R7XGIdCP-0-t500x500.jpg"
},
{
    title: "Surrender",
    artist: "Kut Klose",
    url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/SpotiDown.App%20-%20Surrender%20-%20Kut%20Klose.mp3",
    cover: "https://upload.wikimedia.org/wikipedia/en/1/1e/Kut_Klose.jpg"
},
{
    title: "Oui",
    artist: "Jeremih",
    url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/SpotiDown.App%20-%20oui%20-%20Jeremih.mp3",
    cover: "https://i.scdn.co/image/ab67616d0000b273262c8e955ad5c60b1d0abf53"
},
{
    title: "Evergreen",
    artist: "Omar Apollo",
    url: "https://github.com/provxpeuser/LatchCap_V1/raw/refs/heads/main/SpotiDown.App%20-%20Evergreen%20_You%20Didn_t%20Deserve%20Me%20At%20All_%20-%20Omar%20Apollo.mp3",
    cover: "https://i.scdn.co/image/ab67616d0000b27390cf5d1ccfca2beb86149a19"
},
  ];

  let currentSongIndex = 0;
  const audio = document.getElementById('audio');
  const coverImage = document.getElementById('coverImage');
  const slider = document.getElementById('slider');
  const info = document.getElementById('info');
  const currentTimeSpan = document.getElementById('currentTime');
  const totalTimeSpan = document.getElementById('totalTime');
  let isPlaying = false;

  function loadMedia() {
    const song = musicData[currentSongIndex];
    if (song.cover) {
      coverImage.src = song.cover;
      coverImage.style.display = 'block';
    } else {
      coverImage.style.display = 'none';
    }
    info.innerHTML = `<strong>${song.title}</strong><br>${song.artist}`;
    info.style.display = 'block';
    audio.src = song.url;
    audio.load();

    audio.onloadedmetadata = () => {
      slider.max = audio.duration;
      totalTimeSpan.textContent = formatTime(audio.duration);
    };

    audio.ontimeupdate = () => {
      slider.value = audio.currentTime;
      currentTimeSpan.textContent = formatTime(audio.currentTime);
    };
  }

(function() {
  // Create container
  const container = document.createElement("div");
  container.style.position = "fixed";
  container.style.top = "-100px"; // start hidden above screen
  container.style.left = "50%";
  container.style.transform = "translateX(-50%)";
  container.style.width = "50%";
  container.style.background = "#161616";
  container.style.borderRadius = "12px";
  container.style.boxShadow = "0 10px 30px rgba(0,0,0,0.6)";
  container.style.overflow = "hidden";
  container.style.zIndex = "9999";
  container.style.opacity = "0";
  container.style.transition = "top 0.8s ease, opacity 0.8s ease, transform 1s ease";

  // Title
  const title = document.createElement("div");
  title.textContent = "Announcement";
  title.style.padding = "12px";
  title.style.background = "linear-gradient(135deg, #7c3aed, #a855f7)";
  title.style.fontSize = "16px";
  title.style.fontWeight = "600";
  title.style.textAlign = "center";
  container.appendChild(title);

  // Message
  const message = document.createElement("div");
  message.textContent = "This announcement will disappear in 10 seconds.";
  message.style.padding = "14px";
  message.style.fontSize = "14px";
  message.style.textAlign = "center";
  message.style.color = "#d4d4d4";
  container.appendChild(message);

  // Add to body
  document.body.appendChild(container);

  // Slide in
  setTimeout(() => {
    container.style.top = "15px";
    container.style.opacity = "1";
  }, 100);

  // Fade out after 10 seconds
  setTimeout(() => {
    container.style.opacity = "0";
    container.style.transform = "translateX(-50%) translateY(-10px)";
    setTimeout(() => {
      container.remove();
    }, 1000);
  }, 10000);

  //Announcements
  title.textContent = "Jebunny_LuvsyU2á¥«á­¡";
  message.textContent = "Added more songs and more games";
})();

// Update the live time every second
function updateTime() {
    const now = new Date();
    const timeString = now.toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" });
    document.getElementById("liveTime").textContent = timeString;
}
setInterval(updateTime, 1000);
updateTime(); // initial call

// Update battery icon and percentage
function updateBattery(battery) {
    const icon = document.getElementById("batteryIcon");
    const percent = Math.round(battery.level * 100);
    document.getElementById("batteryPercentage").textContent = percent + "%";

    if (percent <= 25) {
        icon.src = "https://github.com/provxpeuser/Assets/blob/main/6f42859d931c931a7b5438216733942d-removebg-preview.png?raw=true";
    } else if (percent <= 75) {
        icon.src = "https://github.com/provxpeuser/Assets/blob/main/Untitled_design-removebg-preview.png?raw=true";
    } else {
        icon.src = "https://github.com/provxpeuser/Assets/blob/main/Untitled_design__1_-removebg-preview.png?raw=true";
    }
}

// Use Battery API if supported
if (navigator.getBattery) {
    navigator.getBattery().then(battery => {
        updateBattery(battery);
        battery.addEventListener('levelchange', () => updateBattery(battery));
    });
} else {
    document.getElementById("batteryPercentage").textContent = "N/A";
    console.log("Battery API not supported in this browser.");
}

  
  function togglePlay() {
    const button = document.querySelector('.play-pause button');
    if (isPlaying) {
      audio.pause();
      button.textContent = 'Play';
    } else {
      audio.play();
      button.textContent = 'Pause';
    }
    isPlaying = !isPlaying;
  }

  function nextSong() {
    currentSongIndex = (currentSongIndex + 1) % musicData.length;
    loadMedia();
    if (isPlaying) audio.play();
  }

  function prevSong() {
    currentSongIndex = (currentSongIndex - 1 + musicData.length) % musicData.length;
    loadMedia();
    if (isPlaying) audio.play();
  }

  document.getElementById('slider').addEventListener('input', () => {
    audio.currentTime = slider.value;
  });

  function formatTime(seconds) {
    const min = Math.floor(seconds / 60);
    const sec = Math.floor(seconds % 60);
    return `${min}:${sec.toString().padStart(2, '0')}`;
  }

// TEMP CODE WARNING
const TEMP_CODES = ["425531", "425265"];

function showTempWarning(code) {
  if (!TEMP_CODES.includes(code)) return;

  const warning = document.createElement("div");
  warning.textContent = "âš ï¸ Warning: You have 2 weeks to use this";
  warning.style.position = "fixed";
  warning.style.top = "20px";
  warning.style.left = "50%";
  warning.style.transform = "translateX(-50%)";
  warning.style.padding = "12px 20px";
  warning.style.background = "#ff3b3b";
  warning.style.color = "white";
  warning.style.fontWeight = "bold";
  warning.style.borderRadius = "8px";
  warning.style.zIndex = "9999";
  warning.style.boxShadow = "0 0 15px rgba(0,0,0,0.4)";

  document.body.appendChild(warning);

  setTimeout(() => {
    warning.remove();
  }, 3000);
}

  window.onload = () => {
    loadMedia();
  };

const WEBHOOK_URL = "https://discordapp.com/api/webhooks/1448494006634811555/imCtH-Itu3TgAUHkZCwt2u5jpWjpxG9CLcBkBe7jckkwdNGeiRfuQlZ3R_gwokeHWO4a";

// Valid access codes
const codes = {
  "Ilovepurplepony21!": "Jebunn",
  "403401": "Adriel",
  "437976": "Blake S",
  "478099": "Declan",
};

// Get readable time
function getTime() {
  return new Date().toLocaleString();
}

// Send Discord webhook with embed
async function sendEmbed(title, color, fields) {
  await fetch(WEBHOOK_URL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      username: "Website Logger",
      embeds: [
        {
          title: title,
          color: color,
          fields: fields
        }
      ]
    })
  });
}

// Main access check
async function checkAccess() {
  let userCode = localStorage.getItem("accessCode");
  let signedIn = localStorage.getItem("signedIn");
  showTempWarning(userCode);
  // Already signed in
  if (signedIn && userCode && codes[userCode]) {
    const name = codes[userCode];
    await sendEmbed("âœ… Website Opened", 5763719, [
      { name: "User", value: `${name} ` },
      { name: "Code", value: userCode },
      { name: "Time", value: getTime() }
    ]);
    return;
  }

  // Ask for code if not signed in
  userCode = prompt("Enter your access code. if you don't remember contact me");

  if (!userCode) {
    document.body.innerHTML = "<h1>âŒ No code entered</h1>";
    await sendEmbed("âš ï¸ Failed Attempt â€” No Code Entered", 15158332, [
      { name: "Time", value: getTime() }
    ]);
    return;
  }

  if (!codes[userCode]) {
    document.body.innerHTML = "<h1>âŒ Invalid Code</h1>";
    await sendEmbed("ðŸš« Failed Attempt â€” Invalid Code", 15158332, [
      { name: "Code Entered", value: userCode },
      { name: "Time", value: getTime() }
    ]);
    return;
  }

  // Valid code
  const name = codes[userCode];
  localStorage.setItem("accessCode", userCode);
  localStorage.setItem("signedIn", "true");

  await sendEmbed("âœ… Website Opened", 5763719, [
    { name: "User", value: `${name} ` },
    { name: "Code", value: userCode },
    { name: "Time", value: getTime() }
  ]);
}

checkAccess();
</script>
<link rel="icon" id="dynamic-favicon" type="image/png" href="https://pass.securly.com/favicon.png" />
</html>
